<!DOCTYPE html>
<html lang="zh-tw">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="css/style.css">
        <link rel="shortcut icon" type="image/png" href="img/shortcut_logo.png">
        <title>波波動物醫院前／後台 - 登入</title>
    </head>
    <body>
        <section class="WEB_LOGIN">
            <!-- 前後檯登入紐 -->
            <main class="LOGIN_PAGE">
                <div class="FRONT">
                    <a href="homepage.html"><img src="./img/web_login/FRONT_LOGIN.svg" alt=""></a>
                </div>
                <div class="BACK">
                    <a href="#"><img src="./img/web_login/BACK_LOGIN.svg" alt=""></a>
                </div>
            </main>

            <!-- 後台登入 -->
            <section class="BACKEND">
                <section class="BACKEND_LOGIN">
                    <section class="LEFT_LOGO">
                        <img src="./img/web_login/LOGIN_LOGO.svg" alt="">
                    </section>
                    <section class="RIGHT_LOGIN">
                        <div class="FORM_BOX">
                            
                                <label for="account" class="INPUT">帳號<br>
                                    <input type="text" name="account" id="account">
                                </label>

                                <label for="password" class="INPUT">密碼<br>
                                    <input type="password" name="password" id="password">
                                </label>

                                <br>

                                <button type="submit" class="FORGOT BTN_BACK">忘記密碼</button>
                                <button type="submit" class="LOGIN BTN_BACK" onclick="doLoginBack()">登入後台</button>
                        
                        </div>
                    </section>
                </section>
            </section>
        </section>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

        <script>
            $(document).ready(function () {

                $('.BACK').click(function () {
                    $('.BACKEND').show();
                    $('.LOGIN_PAGE').hide();
                })

                $('.FORGOT').click(function(event) {
                    event.preventDefault();  // 防止表單提交

                    // 在這裡撰寫相應的程式碼，用於填入預設的帳號和密碼
                    var defaultAccount = 'thd101no1';
                    var defaultPassword = 'no1';

                    $('#account').val(defaultAccount);
                    $('#password').val(defaultPassword);
                });

            });
            function doLoginBack(){

                var account = $('#account').val();
                var password = $('#password').val();

                if (account === "") {
                    alert("請輸入姓名");
                    return false;
                }
                if (password === "") {
                    alert("請輸入手機號碼");
                    return false;
                }
                console.log(account);
                console.log(password);
                $.ajax({            
                    method: "POST",
                    url: "http://localhost/THD101_NO1/php/back_login.php",
                    // url: "../php/back_login.php",
                    data:{ 
                        account: account,
                        password: password
                    },
                    dataType: "text",
                    success: function (response) {
                        
                        if(response == 'done'){
                            alert('登入成功');
                            location.href = '_back_index.html';
                        }else{
                            alert('帳號或密碼錯誤');
                        }                
                    },
                    error: function(exception) {
                        alert("發生錯誤: " + exception.status);
                    }
                });

            }
                
            
        </script>
    </body>
</html>